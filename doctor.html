<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doctor - MedVistaar</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #f5af19, #f12711);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 20px;
    min-height: 100vh;
  }

  .container {
    background: rgba(255,255,255,0.95);
    padding: 25px 30px;
    border-radius: 20px;
    width: 100%;
    max-width: 500px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  }

  h2 {
    text-align: center;
    color: #c0392b;
    margin-bottom: 25px;
  }

  .messages {
    margin-top: 10px;
  }

  .message-card {
    background: #f1f1f1;
    padding: 12px;
    margin-bottom: 15px;
    border-radius: 12px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  }

  audio {
    width: 100%;
    margin-top: 5px;
  }

  @media(max-width:480px){
    h2 { font-size: 1.6rem; }
    .message-card { font-size: 14px; }
  }
</style>
</head>
<body>

<div class="container">
  <h2>Doctor Dashboard</h2>

  <div class="messages" id="messagesContainer"></div>
</div>

<script>
// Load messages from localStorage
function loadMessages() {
  const container = document.getElementById("messagesContainer");
  container.innerHTML = "";

  const messages = JSON.parse(localStorage.getItem("messages") || "[]");
  if(messages.length === 0){
    container.innerHTML = "<p>No messages yet.</p>";
    return;
  }

  messages.forEach(msg => {
    const div = document.createElement("div");
    div.className = "message-card";

    if(msg.type === "text") {
      div.innerHTML = `<strong>Text Message:</strong> ${msg.message}<br><small>${msg.timestamp}</small>`;
    } else if(msg.type === "audio") {
      div.innerHTML = `<strong>Voice Message:</strong><br><audio controls src="${msg.audio}"></audio><br><small>${msg.timestamp}</small>`;
    }

    container.appendChild(div);
  });
}

loadMessages();
</script>

</body>
</html>
